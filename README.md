###A simple implementation of the tile game Rummikub for Google App Engine (GAE).
Sample available at [www.rummikub-game.appspot.com](http://www.rummikub-game.appspot.com).

The game creates a two player virtual board with move data exchanged using GAE's Channel API.  There is no server side state, game state is stored in the browser of the current turn's player.

The server code is written in Clojure using the Google App Engine tool Gaeshi.  The browser code is written in Clojurescript which can be compiled to Javascript using lein-cljsbuild.  It's nice to be able to write a project with both server and client code in the same language.

####Building

1)  Install [Leiningen](https://github.com/technomancy/leiningen), [Gaeshi](https://github.com/slagyr/gaeshi), [Lein-cljsbuild](https://github.com/emezeske/lein-cljsbuild) and [Google App Engine JDK for Java](https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Java).

2)  Compile the clojurescript to javascript.  Change directory to rummikub/public/my-cljs and type `lein cljsbuild once`.

3)  From the directory rummikub type `lein gaeshi server` to run on localhost:8080 and `lein gaeshi deploy` to deploy to Google App Engine.

####A bit about the project

This project demonstrates the simplicity that the Clojure programming language brings to web development.  To build a url mapping to www.website.com/url simply create the namespace `(ns project-name.controller.url-controller)` and define a function `(defn url-controller [request] ...)` that returns a clojure map.  The http request is delivered as the Clojure map `request` and a minimal http response is `{:status 200, :headers {}, :body "A rather simple body"}`.  This is much easier than dealing with object oriented nonsense in Java servlets.

HTML can be generated by creating 'views' in the directory src/project_name/views/.  The HTML is represented using ordinary Clojure maps and vectors, enabling easy programmatic manipulation of content.

The directory public contains all static content.  Clojurescript source code is included in public/my-cljs and must be compiled to Javascript to run in the browser.  This is very easy using the tool lein-cljsbuild.  If you navigate to public/my-cljs and run `lein cljsbuild auto`, a daemon will detect changes made to the Clojurescript source and recompile immediately.  The main downside of writing broswer code in Clojurescript is that the generated Javascript is quite large, around 500kb.  To ameliorate this, lein-cljsbuild allows 'advanced optimizations' which reduce the resulting Javascript to around 130kb.  Run without optimizations during development for speedy compilation and then advanced compile before deploying to production.
